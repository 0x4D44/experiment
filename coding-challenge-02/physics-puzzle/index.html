<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Physics Playground - Chain Reaction Puzzle Game</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- Main Menu Screen -->
    <div id="mainMenu" class="screen active">
        <div class="menu-container">
            <h1 class="game-title">‚ö° Chain Reaction ‚ö°</h1>
            <p class="game-subtitle">A Physics Puzzle Adventure</p>
            <div class="menu-buttons">
                <button class="menu-btn primary" onclick="game.showLevelSelect()">Play Game</button>
                <button class="menu-btn" onclick="game.showHelp()">How to Play</button>
            </div>
            <div class="stars-display">
                Total Stars: <span id="totalStars">0</span> / <span id="maxStars">45</span>
            </div>
        </div>
    </div>

    <!-- Help Screen -->
    <div id="helpScreen" class="screen">
        <div class="help-container">
            <h2>How to Play</h2>
            <div class="help-content">
                <div class="help-section">
                    <h3>üéØ Objective</h3>
                    <p>Get the golden ball to touch the star target to complete each level!</p>
                </div>
                <div class="help-section">
                    <h3>üéÆ Controls</h3>
                    <ul>
                        <li><strong>Click/Drag:</strong> Place interactive objects</li>
                        <li><strong>Click Ropes:</strong> Cut them to release objects</li>
                        <li><strong>Click Bombs:</strong> Trigger explosions</li>
                        <li><strong>Space:</strong> Start level/Release ball</li>
                        <li><strong>R:</strong> Reset level</li>
                        <li><strong>U:</strong> Undo last action</li>
                    </ul>
                </div>
                <div class="help-section">
                    <h3>‚≠ê Star Ratings</h3>
                    <ul>
                        <li><strong>3 Stars:</strong> Complete quickly with few moves</li>
                        <li><strong>2 Stars:</strong> Complete with moderate efficiency</li>
                        <li><strong>1 Star:</strong> Complete the level</li>
                    </ul>
                </div>
                <div class="help-section">
                    <h3>üß© Objects</h3>
                    <ul>
                        <li><strong>Platforms:</strong> Static surfaces to guide the ball</li>
                        <li><strong>Ramps:</strong> Angled surfaces for acceleration</li>
                        <li><strong>Ropes:</strong> Cut them to drop objects</li>
                        <li><strong>Bombs:</strong> Click to explode nearby objects</li>
                        <li><strong>Dominoes:</strong> Chain reaction pieces</li>
                    </ul>
                </div>
            </div>
            <button class="menu-btn" onclick="game.showMenu()">Back to Menu</button>
        </div>
    </div>

    <!-- Level Select Screen -->
    <div id="levelSelect" class="screen">
        <div class="level-select-container">
            <h2>Select Level</h2>
            <div id="levelGrid" class="level-grid">
                <!-- Levels will be generated by JavaScript -->
            </div>
            <button class="menu-btn" onclick="game.showMenu()">Back to Menu</button>
        </div>
    </div>

    <!-- Game Screen -->
    <div id="gameScreen" class="screen">
        <div class="game-header">
            <div class="header-left">
                <button class="icon-btn" onclick="game.showLevelSelect()" title="Level Select">üìã</button>
                <span class="level-title">Level <span id="currentLevel">1</span></span>
            </div>
            <div class="header-center">
                <div class="stat">Moves: <span id="moveCount">0</span></div>
                <div class="stat">Time: <span id="timeCount">0</span>s</div>
                <div class="stars-earned" id="starsEarned">
                    <span class="star">‚òÜ</span>
                    <span class="star">‚òÜ</span>
                    <span class="star">‚òÜ</span>
                </div>
            </div>
            <div class="header-right">
                <button class="icon-btn" onclick="game.undo()" title="Undo (U)">‚Ü∂</button>
                <button class="icon-btn" onclick="game.resetLevel()" title="Reset (R)">‚ü≤</button>
            </div>
        </div>
        <div id="gameCanvas"></div>
        <div class="game-footer">
            <div id="objectPalette" class="object-palette">
                <!-- Available objects will be shown here -->
            </div>
            <div class="instructions" id="levelInstructions">
                Press SPACE to start
            </div>
        </div>
    </div>

    <!-- Win Screen Overlay -->
    <div id="winOverlay" class="overlay">
        <div class="win-container">
            <h2 class="win-title">Level Complete! üéâ</h2>
            <div class="win-stars" id="winStars">
                <span class="star-big">‚òÖ</span>
                <span class="star-big">‚òÖ</span>
                <span class="star-big">‚òÖ</span>
            </div>
            <div class="win-stats">
                <div class="win-stat">Time: <span id="winTime">0</span>s</div>
                <div class="win-stat">Moves: <span id="winMoves">0</span></div>
            </div>
            <div class="win-buttons">
                <button class="menu-btn" onclick="game.nextLevel()">Next Level</button>
                <button class="menu-btn" onclick="game.resetLevel()">Retry</button>
                <button class="menu-btn" onclick="game.showLevelSelect()">Level Select</button>
            </div>
        </div>
    </div>

    <!-- Include Matter.js from CDN -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/matter-js/0.19.0/matter.min.js"></script>
    <script src="game.js"></script>
</body>
</html>
