# Journal – Ghidra Annotation Campaign
**Date:** 2025-11-20
**Author:** Codex

## 18:05 – Stage 0 Kickoff
- Confirmed headless Ghidra installation at `/home/md/ghidra_11.4.2_PUBLIC` and ran `refresh_artifacts.py` (skip BN/trace publish) to verify exporters.
- Observed scripts now produce `symbols.json`, `segments.yml`, and `coverage_summary.md` (baseline: 1 function named).
- Next up: install DOSBox-X and replace placeholder telemetry trace.

## 18:30 – Stage 0 Blocker: DOSBox-X
- Attempted to install DOSBox-X (`sudo apt update/install`) but commands timed out (possibly network restrictions) and no `dosbox-x` binary is available.
- Also checked PyPI as a fallback (no package).
- Action: need alternative installation method (prebuilt tarball) or user-installed DOSBox-X before we can capture traces.
- For now, Stage 0 partially complete (Ghidra ready, telemetry still blocked).

## 18:40 – Next Steps
- Need to procure DOSBox-X manually (download binary/tarball) or receive pre-installed path from user.
- Once DOSBox-X available, rerun `refresh_artifacts.py` with telemetry capture to replace placeholder trace.

## 19:15 – DOS Emulator Setup
- Downloaded `dosbox-staging` v0.82.2 Linux binary (AppImage unavailable, but staging ships tarballs). Extracted to `/home/md/dosbox-staging-linux-x86_64-0.82.2-5e2ba` and pointed `DOSBOX_X` env var to its `dosbox` binary for compatibility with existing scripts.
- Updated telemetry macro/config paths from `../f1gp-*` to `f1gp-*` so relative paths resolve from repo root. Removed unsupported `sleep` command.
- Ran `capture_telemetry.py sample_boot ...`. DOSBox launches GP.EXE successfully; exit command is blocked because DOSBox insists on ≥1.5 s runtime, so the process times out at 30 s (status 124) but still writes metadata + placeholder trace.
- Ran `link_traces.py` to regenerate `re/artifacts/telemetry/index.json`.
- Next: figure out a clean exit strategy (e.g., insert delay via small DOS utility or config tweak) and eventually wire telemetry into parity harness.

## 17:45 – DOS Delay Utility
- Built a custom `delay5.com` (BIOS-timer .COM) under `f1gp-disasm/tools/` and updated the telemetry macro to run it after GP.EXE. DOSBox now stays alive long enough to allow `exit`, eliminating the 30-second timeouts.
- Reran `capture_telemetry.py sample_boot …`; DOSBox exits with status 0 and metadata has been refreshed. The telemetry index in `re/artifacts/telemetry/index.json` was regenerated as well.
- Trace data is still placeholder bytes; we’ll hook a proper telemetry exporter later, but Stage 0’s DOS emulator requirement is now satisfied.
